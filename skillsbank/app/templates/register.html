{% extends "base.html" %}

{% block content %}

<div class="scrollable-area bg-dark-grey text-white">
	<div class="max-w-md w-full login-form">
		<h1 class="login-heading">Register</h1>
		<!-- Success Messages -->
    {% if messages %}
		<div class="bg-green-50 border text-green-700 p-4 rounded mb-6 auth-success" role="alert" aria-live="polite">
        {% for message in messages %}
			<p>{{ message }}</p>
        {% endfor %}
		</div>
    {% endif %}
		<!-- Form Errors -->
    {% if form.errors %}
		<div class="p-4  mb-6 auth-error" role="alert" aria-live="assertive">
			<p>
				<strong>Please correct the following errors</strong>
			</p>
			<ul>
            {% for field, errors in form.errors.items %}
				<li>
					<strong>{{ field|capfirst }}</strong>: {{ errors|join:", " }}
				</li>
            {% endfor %}
			</ul>
		</div>
{% endif %}
		<!-- Register Form -->
		<form method="post" class="space-y-4" id="auth-form" novalidate>
        {% csrf_token %}
			<!-- Username Field -->
			<div class="mb-4">
				<label for="username" class="block text-2xl font-medium text-gray-700">Username</label>
				<input 
                type="text" 
                id="username" 
                name="username" 
                placeholder="Enter your username"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                {% if form.username.errors %}border-red-500{% endif %}"
                autocomplete="username" 
                required
                aria-required="true">
            {% if form.username.errors %}
					<p class="text-red-500 text-sm mt-1">{{ form.username.errors|join:", " }}</p>
            {% endif %}
				</div>
				<!-- Email Field -->
				<div class="mb-4">
					<label for="email" class="block text-2xl font-medium text-gray-700">Email</label>
					<input 
                type="email" 
                id="email" 
                name="email" 
                placeholder="Enter your email address"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                {% if form.email.errors %}border-red-500{% endif %}"
                autocomplete="email" 
                required
                aria-required="true">
            {% if form.email.errors %}
						<p class="text-red-500 text-sm mt-1">{{ form.email.errors|join:", " }}</p>
            {% endif %}
					</div>
					<!-- Password Field -->
					<div class="mb-4">
						<label for="password1" class="block text-2xl font-medium text-gray-700">Password</label>
						<input 
                            type="password" 
                            id="password1" 
                            name="password1" 
                            placeholder="Enter your password"
                            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                            {% if form.password1.errors %}border-red-500{% endif %}"
                            autocomplete="new-password" 
                            required
                            aria-required="true">
            {% if form.password1.errors %}
							<p class="text-red-500 text-sm mt-1">{{ form.password1.errors|join:", " }}</p>
            {% endif %}
						</div>
						<!-- Confirm Password Field -->
						<div class="mb-4">
							<label for="password2" class="block text-2xl font-medium text-gray-700">Confirm Password</label>
							<input 
                                type="password" 
                                id="password2" 
                                name="password2" 
                                placeholder="Confirm your password"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                                {% if form.password2.errors %}border-red-500{% endif %}"
                                autocomplete="new-password" 
                                required
                                aria-required="true">
            {% if form.password2.errors %}
								<p class="text-red-500 text-sm mt-1">{{ form.password2.errors|join:", " }}</p>
            {% endif %}
							</div>
							<button type="submit" class="w-full button primary">
                                Register
                            </button>
						</form>
						<!-- Login Info -->
						<p class="mt-6 text-sm text-center">
                            Already have an account? 
							<a href="{% url 'login' %}" class="auth-link font-semibold">Login</a>
						</p>
					</div>
				</div>
{% endblock %}
